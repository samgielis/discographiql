(this.webpackJsonpdiscographiql=this.webpackJsonpdiscographiql||[]).push([[0],{100:function(e,t,a){},103:function(e,t,a){},114:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(82),i=a.n(c),o=(a(100),a(36)),l=a(29),u=a(26),m=a(129),s=a(8),d=a(54),g=a(84),f=a(117),E=a(64),b=a(59),h=a(89),p=a(62),v=a(126),y={base:2,sm:3,lg:5},k=Object(p.a)(Object(p.a)({},v.a),{},{colors:Object(p.a)({brand:{accent:v.a.colors.green[400],light:"white",mediumlight:"#eaeaea",mediumdark:"#2e2e2e",dark:"black",opaquelight:"#e2e8f02e",opaquedark:"#00000036"}},v.a.colors)});function S(e){var t=e.onQueryEntered;return r.a.createElement(g.a,{my:y,w:"60%"},r.a.createElement(f.a,{size:"lg"},r.a.createElement(E.a,{children:r.a.createElement(b.a,{name:"search",color:"gray.300"})}),r.a.createElement(h.a,{type:"text",placeholder:"Search",borderRadius:0,borderColor:"brand.opaquelight",color:"brand.mediumlight",bg:"brand.opaquedark",onKeyDown:function(e){"Enter"===e.key&&t(e.currentTarget.value)}})))}var j=a(27),w=a(121),x=a(35),q=a(94),O=a(118),C=a(119),z=a(120);function A(e){var t=e.src,a=(e.alt,Object(q.a)(e,["src","alt"])),c=Object(n.useState)(!t),i=Object(o.a)(c,2),l=i[0],u=i[1];return r.a.createElement(O.a,{isLoaded:l},r.a.createElement(C.a,Object.assign({},a,{backgroundColor:"gray.300"}),r.a.createElement(z.a,{src:t,objectFit:"cover",opacity:l?1:0,transition:"opacity .3s",onLoad:function(){u(!0)}})))}function D(e){var t=e.node,a=e.icon,n=e.onClick,c=e.maxW,i=e.iconColor,o=void 0===i?"brand.light":i,l=t.name,u=t.image;return r.a.createElement(s.a,{textAlign:"center",maxW:c},r.a.createElement(s.a,{pos:"relative",onClick:n,cursor:"pointer"},r.a.createElement(A,{src:u,alt:l,ratio:1}),r.a.createElement(N,{icon:a,color:o})),r.a.createElement(w.a,{size:"md",mx:0,my:y},l))}function N(e){var t=e.icon,a=e.color;return r.a.createElement(x.a,{w:"100%",h:"100%",pos:"absolute",top:0,bg:"brand.dark",color:a,opacity:0,_hover:{opacity:.8},transition:"opacity .3s"},r.a.createElement(s.a,{as:t,fontSize:"4rem",margin:"auto",height:"100%"}))}var B=a(127),F=function(e){var t=e.children;return r.a.createElement(B.a,{columns:{base:2,sm:3,lg:5},spacing:y,m:y},t)};function R(e){var t=e.data,a=e.onArtistSelected;return r.a.createElement(F,null,t.queryArtists.map((function(e){return r.a.createElement(r.a.Fragment,{key:e.id},r.a.createElement(D,{node:e,maxW:"400px",icon:j.c,onClick:function(){a(e)}}))})))}var Q=a(128),W=function(e){var t=e.imageSrc,a=e.title,n=e.children,c=e.color,i=void 0===c?"brand.light":c;return r.a.createElement(Q.a,{pos:"relative",alignItems:"center",justify:"center",h:"30vh",spacing:3,overflow:"hidden",backgroundColor:"brand.mediumdark"},r.a.createElement(z.a,{src:t,objectFit:"cover",w:"100%",opacity:.2,style:{filter:"blur(3px)"},pos:"absolute",zIndex:0}),r.a.createElement(w.a,{as:"h1",size:"2xl",color:i,zIndex:1},a),r.a.createElement(r.a.Fragment,null,n))},I=a(93),$=a(122);a(103);function _(e){var t=e.queryResult,a=e.dataRenderer,n=t.loading,c=t.error,i=t.data;return n?r.a.createElement(J,null,r.a.createElement(I.a,{size:"xl"}),";"):c?r.a.createElement(J,null,r.a.createElement(s.a,{as:j.d,fontSize:"5rem"}),r.a.createElement($.a,{fontSize:{base:"xl",lg:"2xl"}},"Something's wrong with your query.")):i&&i.queryArtists.length>0?a(i):r.a.createElement(L,null)}var L=function(){return r.a.createElement(J,null,r.a.createElement(s.a,{as:j.b,fontSize:"5rem"}),r.a.createElement($.a,{fontSize:{base:"xl",lg:"2xl"}},"We didn't find anything matching your search."))},H=function(){return r.a.createElement(J,null,r.a.createElement(s.a,{as:j.a,id:"animated-arrow",fontSize:"5rem"}),r.a.createElement($.a,{fontSize:{base:"xl",lg:"2xl"}},"There's nothing here yet.",r.a.createElement("br",null)," ",r.a.createElement("br",null)," Browse your favourite artists,",r.a.createElement("br",null),"check their discography",r.a.createElement("br",null),"and listen on Spotify."))},J=function(e){var t=e.children;return r.a.createElement(Q.a,{align:"center",justify:"center",objectFit:"fill",m:"auto",minH:"70vh",color:"brand.mediumdark",textAlign:"center"},t)};function M(){var e=Object(d.a)(["\n  query Artists($partialName: String!) {\n    queryArtists(byName: $partialName) {\n      id\n      name\n      image\n    }\n  }\n"]);return M=function(){return e},e}var P=Object(l.gql)(M());function T(e){var t=e.showing,a=e.onArtistSelected,c=Object(n.useState)(""),i=Object(o.a)(c,2),l=i[0],u=i[1];return r.a.createElement(s.a,{d:t?"block":"none"},r.a.createElement(G,{handleQueryEntered:function(e){a(void 0),u(e)}}),l?r.a.createElement(K,{query:l,onArtistSelected:a}):r.a.createElement(H,null))}function K(e){var t=e.query,a=e.onArtistSelected,n=Object(l.useQuery)(P,{variables:{partialName:t}});return r.a.createElement(_,{queryResult:n,dataRenderer:function(e){return r.a.createElement(R,{data:e,onArtistSelected:a})}})}function G(e){var t=e.handleQueryEntered;return r.a.createElement(W,{title:"DiscographiQL",color:"brand.accent"},r.a.createElement(S,{onQueryEntered:t}))}var U=a(125),V=a(65),X=a(123),Y=r.a.forwardRef((function(e,t){return r.a.createElement(V.a,Object.assign({size:"md",ref:t,as:X.a},e))}));function Z(e){var t=e.artist;return r.a.createElement(W,{imageSrc:t.image,title:t.name},r.a.createElement(Y,{backgroundColor:"brand.accent",href:"https://open.spotify.com/artist/".concat(t.id),target:"_blank",rel:"noreferrer"},r.a.createElement(s.a,{as:j.e,mr:".5em",fontSize:"1.2em"}),"Listen"))}var ee=a(92),te={sortDescending:!1,filterDuplicates:!1};function ae(e,t){return!!e.find((function(e){return e.name===t.name}))?e:[].concat(Object(ee.a)(e),[t])}var ne=a(124);function re(e){var t=e.config,a=e.onFilterConfigChanged,n={bg:"brand.mediumdark",color:"white",size:"sm",_hover:{color:"brand.light",bg:"brand.dark"}};return r.a.createElement(ne.a,{spacing:4},r.a.createElement(V.a,Object.assign({},n,{onClick:function(){return a({sortDescending:!t.sortDescending,filterDuplicates:t.filterDuplicates})}}),t.sortDescending?"Sort ascending":"Sort descending"),r.a.createElement(V.a,Object.assign({},n,{onClick:function(){return a({sortDescending:t.sortDescending,filterDuplicates:!t.filterDuplicates})}}),t.filterDuplicates?"Show duplicate titles":"Hide duplicate titles"))}function ce(){var e=Object(d.a)(["\n  query ArtistPage($fullName: String!) {\n    queryArtists(byName: $fullName) {\n      id\n      albums {\n        id\n        name\n        image\n      }\n    }\n  }\n"]);return ce=function(){return e},e}var ie=Object(l.gql)(ce());function oe(e){var t=e.artist,a=Object(l.useQuery)(ie,{variables:{fullName:t.name}}),c=Object(n.useState)(te),i=Object(o.a)(c,2),u=i[0],m=i[1];return r.a.createElement(s.a,{textAlign:"center",margin:y},r.a.createElement(s.a,{my:10},r.a.createElement(w.a,{m:y},"Discography"),r.a.createElement(re,{config:u,onFilterConfigChanged:m})),r.a.createElement(_,{queryResult:a,dataRenderer:function(e){var a=e.queryArtists.find((function(e){return e.id===t.id}));if(!a)return r.a.createElement(L,null);var n=function(e,t){var a,n,r=e;return t.filterDuplicates&&(r=e.reduce(ae,[])),a=r,n=t.sortDescending,r=a.slice().sort((function(e,t){return n?t.name.localeCompare(e.name):e.name.localeCompare(t.name)}))}(a.albums,u);return r.a.createElement(F,null,n.map((function(e){return r.a.createElement(r.a.Fragment,{key:e.id},r.a.createElement(D,{node:e,maxW:"400px",icon:j.e,iconColor:"brand.accent",onClick:function(){window.open("https://open.spotify.com/album/".concat(e.id))}}))})))}}))}function le(e){var t=e.artist,a=e.onNavigateBack;return r.a.createElement(s.a,null,r.a.createElement(ue,{onNavigateBack:a}),r.a.createElement(Z,{artist:t}),r.a.createElement(oe,{artist:t}))}function ue(e){var t=e.onNavigateBack;return r.a.createElement(s.a,{pos:"absolute",zIndex:1},r.a.createElement(U.a,{"aria-label":"Back to search",icon:"arrow-back",onClick:t,variant:"ghost",size:"lg",color:"brand.light",_hover:{bg:"transparent"},_active:{bg:"transparent"}}))}var me=new l.ApolloClient({uri:"https://spotify-graphql-server.herokuapp.com/graphql?",cache:new l.InMemoryCache});var se=function(){var e=Object(n.useState)(void 0),t=Object(o.a)(e,2),a=t[0],c=t[1];return r.a.createElement(l.ApolloProvider,{client:me},r.a.createElement(u.a,{theme:k},r.a.createElement(m.a,null),r.a.createElement(s.a,{bg:"brand.mediumlight",minH:"100vh"},r.a.createElement(T,{onArtistSelected:function(e){c(e)},showing:!a}),a&&r.a.createElement(le,{artist:a,onNavigateBack:function(){c(void 0)}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(se,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},95:function(e,t,a){e.exports=a(114)}},[[95,1,2]]]);
//# sourceMappingURL=main.2889e42d.chunk.js.map